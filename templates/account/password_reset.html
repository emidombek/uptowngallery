{% extends 'base.html' %}

{% load i18n %}
{% load account %}

{% block head_title %}
  {% trans 'Reset Password' %}
{% endblock %}

{% block content %}
  <div class="container mt-3 mb-2">
    <div class="row justify-content-center"> <!-- Use this if you need to adjust centering -->
      <div class="col-md-6">
        <div class="border rounded mt-3 mb-3 p-4"> <!-- Added border, rounded, margin, and padding classes here -->
          <h1 class="mb-3">{% trans 'Password Reset' %}</h1>
          {% if user.is_authenticated %}
            {% include 'account/snippets/already_logged_in.html' %}
          {% else %}
            <p class="mb-4">
              {% trans "Forgotten your password? Enter your email address below, and we'll email you instructions on how to reset it." %}
            </p>
            <form method="post" action="{% url 'account_reset_password' %}">
              {% csrf_token %}
              {% for field in form %}
                <div class="form-group mb-3">
                  <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                  {% if field.field.widget.input_type == 'checkbox' %}
                    <input type="checkbox" name="{{ field.name }}" id="{{ field.id_for_label }}" class="form-check-input{% if field.errors %} is-invalid{% endif %}" />
                    <label class="form-check-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
                  {% else %}
                    <input class="{{ field.field.widget.attrs.class }} form-control {% if field.errors %}is-invalid{% endif %}" type="{{ field.field.widget.input_type }}" name="{{ field.name }}" id="{{ field.id_for_label }}" value="{{ field.value|default_if_none:'' }}" />
                  {% endif %}
                  {% if field.help_text %}
                    <small class="form-text text-muted">{{ field.help_text }}</small>
                  {% endif %}
                  {% for error in field.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                  {% endfor %}
                </div>
              {% endfor %}
              <button type="submit" class="btn btn-info">{% trans 'Reset Your Password' %}</button>
            </form>
            <p class="mt-3 mb-3">
              {% blocktrans %}Please contact us if you have any trouble resetting your password.{% endblocktrans %}
            </p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
